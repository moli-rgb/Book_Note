<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Notebook</title>
  <link rel="stylesheet" href="/style.css" />
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
  <header class="header">
    <!-- Left: Logo -->
    <div class="header-left">
      <a href="/" style="text-decoration: none;">
        <h1 class="logo">
          <i data-lucide="book-open"></i>
          BookTracker
        </h1>
      </a>
    </div>

    <!-- Right: Sort Menu & Theme Toggle (Desktop only) -->
    <div class="header-right" id="menu">
      <button class="theme-toggle" id="themeToggle" title="Toggle Theme">
        <i data-lucide="moon" size="20"></i>
      </button>

      <h2>Sort by:</h2>
      <ul class="header-right-list">
        <% if (typeof page !=='undefined' && page==="book" ) { %>
          <li><a href="/book?sort=title"><button
                class="chip-btn <%= (!sort || sort==='title') ? 'active' : '' %>">Title</button></a></li>
          <li><a href="/book?sort=author"><button
                class="chip-btn <%= (sort==='author') ? 'active' : '' %>">Author</button></a></li>
          <li><a href="/book?sort=rating"><button
                class="chip-btn <%= (sort==='rating') ? 'active' : '' %>">Rating</button></a></li>
          <% } else { %>
            <li><a href="/?sort=title"><button
                  class="chip-btn <%= (!sort || sort==='title') ? 'active' : '' %>">Title</button></a></li>
            <li><a href="/?sort=author"><button
                  class="chip-btn <%= (sort==='author') ? 'active' : '' %>">Author</button></a></li>
            <li><a href="/?sort=rating"><button
                  class="chip-btn <%= (sort==='rating') ? 'active' : '' %>">Rating</button></a></li>
            <% } %>
      </ul>
    </div>
  </header>

  <!-- Mobile Floating Action Button -->
  <div class="mobile-fab">
    <button class="fab-button" id="fabButton" aria-label="Menu">
      <i data-lucide="plus" size="28"></i>
    </button>
    <div class="fab-menu" id="fabMenu">
      <div class="fab-menu-section">
        <h3>Theme</h3>
        <button class="fab-theme-toggle" id="fabThemeToggle">
          <i data-lucide="moon" size="18"></i>
          <span>Toggle Theme</span>
        </button>
      </div>
      <div class="fab-menu-section">
        <h3>Sort By</h3>
        <div class="fab-sort-buttons">
          <% if (typeof page !=='undefined' && page==="book" ) { %>
            <a href="/book?sort=title"><button
                class="chip-btn <%= (!sort || sort==='title') ? 'active' : '' %>">Title</button></a>
            <a href="/book?sort=author"><button
                class="chip-btn <%= (sort==='author') ? 'active' : '' %>">Author</button></a>
            <a href="/book?sort=rating"><button
                class="chip-btn <%= (sort==='rating') ? 'active' : '' %>">Rating</button></a>
            <% } else { %>
              <a href="/?sort=title"><button
                  class="chip-btn <%= (!sort || sort==='title') ? 'active' : '' %>">Title</button></a>
              <a href="/?sort=author"><button
                  class="chip-btn <%= (sort==='author') ? 'active' : '' %>">Author</button></a>
              <a href="/?sort=rating"><button
                  class="chip-btn <%= (sort==='rating') ? 'active' : '' %>">Rating</button></a>
              <% } %>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Initialize Lucide Icons
    lucide.createIcons();
  </script>
</body>

</html>